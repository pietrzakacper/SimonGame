!function t(e,n,i){function o(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(r)return r(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[u]={exports:{}};e[u][0].call(s.exports,function(t){var n=e[u][1][t];return o(n?n:t)},s,s.exports,t,e,n,i)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){if(u.default.integerTypeOfArguments(t,e,n),u.default.length(n),t>e){var i=[e,t];t=i[0],e=i[1]}for(var o=new Array,r=0;r<n;++r)o.push(Math.floor(Math.random()*(e-t+1))+t);return o}Object.defineProperty(n,"__esModule",{value:!0});var r=t("./valid"),u=i(r);n.default={getSimonSequence:function(t){return o(1,4,t)}}},{"./valid":5}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,i){q.mainCircle=t,q.startButton=n,q.resetButton=i,q.simonButtons=e,q.diode=t.querySelector(".diode"),q.count=t.querySelector(".count"),w.stepDuration=1e3,w.breakDuration=200,w.strictMode=!1,w.isStartActive=!0,C.default.init(q,w.stepDuration),C.default.animateMainCircle()}function r(){C.default.flags.isStartActive&&(C.default.deactivateStartButton(),w.maxStreak=20,w.simonSequence=k.default.getSimonSequence(w.maxStreak),console.log("Simon Sequence is: "),console.log(w.simonSequence),w.currentStreak=0,d())}function u(){console.log("Reseted..."),w.simonSequence=[],w.currentStreak=0,C.default.reset()}function a(){w.strictMode=!w.strictMode,C.default.toggleStrictMode()}function c(){C.default.renderCount(++w.currentStreak),l(1)}function l(t){C.default.highlightButton(w.simonSequence[t-1]),w.currentStreak>t?window.setTimeout(function(){l(t+1)},w.stepDuration+w.breakDuration):window.setTimeout(function(){f()},w.stepDuration)}function s(){C.default.makeCircleTouchable()}function d(){C.default.disableCircle(),window.setTimeout(function(){c()},500)}function f(){s(),w.playersCount=0}function g(t){if(C.default.flags.isMainCircleTouchable){if(w.playersInput=t.target.id,console.log("input is: "+w.playersInput+" on index: "+w.playersCount+" expected is: "+w.simonSequence[w.playersCount]),w.playersInput!=w.simonSequence[w.playersCount])return void m();console.log("Making button highlighted..."),S(w.playersInput),w.playersCount++}}function m(){console.log("player failed..."),C.default.flags.isStrictModeActive||(w.playersCount=0,w.currentStreak--,d())}function v(){C.default.flags.isMainCircleTouchable&&!w.isPlayersFailure&&(console.log(w.playersInput+" button released"),p(w.playersInput),w.playersCount===w.currentStreak&&h())}function S(t){C.default.makeButtonHighlighted(t)}function p(t){C.default.makeButtonNotHighlighted(t)}function h(){return console.log("End of player's sequence"),y(w.playersCount)?void M():void d()}function y(t){return t===w.maxStreak}function M(){C.default.disableCircle(),console.log("player has won")}Object.defineProperty(n,"__esModule",{value:!0});var b=t("./ui.js"),C=i(b),B=t("./game-tools"),k=i(B),q={},w={};n.default={init:o,start:r,reset:u,toggleStrictMode:a,onSimonButtonPress:g,onSimonButtonRelease:v}},{"./game-tools":1,"./ui.js":4}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=t("./game"),r=i(o),u=document.querySelector(".main-circle"),a=u.querySelector(".start"),c=u.querySelector(".reset"),l=u.querySelector(".strict"),s=u.querySelectorAll(".btn-row > .btn");console.log("Starting application..."),r.default.init(u,s,a,c),a.addEventListener("click",r.default.start),c.addEventListener("click",r.default.reset),l.addEventListener("click",r.default.toggleStrictMode),Array.from(s).forEach(function(t){t.addEventListener("mousedown",r.default.onSimonButtonPress),t.addEventListener("mouseup",r.default.onSimonButtonRelease)})},{"./game":2}],4:[function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;p=t,h=e}function o(){p.mainCircle.classList.add("animate")}function r(t){t.classList.toggle("active")}function u(t){t.classList.add("active")}function a(t){t.classList.remove("active")}function c(t){p.count.innerHTML=t>=10?t:"0"+t}function l(t){m(t),window.setTimeout(function(){v(t)},h)}function s(){p.startButton.classList.add("active"),p.startButton.classList.remove("disabled"),M.isStartActive=!0}function d(){p.startButton.classList.add("disabled"),p.startButton.classList.remove("active"),M.isStartActive=!1}function f(){p.mainCircle.classList.add("touchable"),M.isMainCircleTouchable=!0}function g(){p.mainCircle.classList.remove("touchable"),M.isMainCircleTouchable=!1}function m(t){y=t,u(p.simonButtons[t-1])}function v(t){y=null,a(p.simonButtons[t-1])}function S(){a(p.diode),M.isStrictModeActive=!1,s(),null!==y&&v(y),g(),c(0)}Object.defineProperty(n,"__esModule",{value:!0});var p={},h=0,y=null,M={isStartActive:!0,isMainCircleTouchable:!1,isStrictModeActive:!1};n.default={init:i,animateMainCircle:o,toggleStrictMode:function(){M.isStrictModeActive=!M.isStrictModeActive,r(p.diode)},highlightButton:l,renderCount:c,activateStartButton:s,deactivateStartButton:d,makeCircleTouchable:f,disableCircle:g,flags:M,makeButtonHighlighted:m,makeButtonNotHighlighted:v,reset:S}},{}],5:[function(t,e,n){"use strict";function i(){var t=[].slice.call(arguments);t.forEach(function(t){if("number"!=typeof t)throw new Error("Given arguments must be numbers!")})}function o(t){if(t<=0)throw new Error("Given length argument is not a positive number")}Object.defineProperty(n,"__esModule",{value:!0}),n.default={length:o,integerTypeOfArguments:i}},{}]},{},[3]);
//# sourceMappingURL=simon-min.js.map
