!function t(e,n,i){function u(o,a){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[o]={exports:{}};e[o][0].call(s.exports,function(t){var n=e[o][1][t];return u(n?n:t)},s,s.exports,t,e,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)u(i[o]);return u}({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){if(o.default.integerTypeOfArguments(t,e,n),o.default.length(n),t>e){var i=[e,t];t=i[0],e=i[1]}for(var u=new Array,r=0;r<n;++r)u.push(Math.floor(Math.random()*(e-t+1))+t);return u}Object.defineProperty(n,"__esModule",{value:!0});var r=t("./valid"),o=i(r);n.default={getSimonSequence:function(t){return u(1,4,t)}}},{"./valid":5}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,i){B.mainCircle=t,B.startButton=n,B.resetButton=i,B.simonButtons=e,B.diode=t.querySelector(".diode"),B.count=t.querySelector(".count"),k.stepDuration=1e3,k.breakDuration=200,k.strictMode=!1,k.isStartActive=!0,k.maxStreak=20,b.default.init(B,k.stepDuration),b.default.animateMainCircle()}function r(){b.default.flags.isStartActive&&(b.default.deactivateStartButton(),k.simonSequence=T.default.getSimonSequence(k.maxStreak),k.currentStreak=0,d())}function o(){k.simonSequence=[],k.currentStreak=0,b.default.reset()}function a(){k.strictMode=!k.strictMode,b.default.toggleStrictMode()}function c(){b.default.renderCount(++k.currentStreak),l(1)}function l(t){b.default.highlightButton(k.simonSequence[t-1]),k.currentStreak>t?window.setTimeout(function(){l(t+1)},k.stepDuration+k.breakDuration):window.setTimeout(function(){f()},k.stepDuration)}function s(){b.default.makeCircleTouchable()}function d(){b.default.disableCircle(),window.setTimeout(function(){c()},500)}function f(){s(),k.playersCount=0}function m(t){if(b.default.flags.isMainCircleTouchable){if(k.playersInput=t.target.id,k.playersInput!=k.simonSequence[k.playersCount])return void v();g(k.playersInput),k.playersCount++}}function v(){b.default.playError(),window.setTimeout(function(){b.default.flags.isStrictModeActive?(o(),r()):(k.playersCount=0,k.currentStreak--,d())},k.stepDuration)}function p(){b.default.flags.isMainCircleTouchable&&!k.isPlayersFailure&&(S(k.playersInput),k.playersCount===k.currentStreak&&h())}function g(t){b.default.makeButtonHighlighted(t)}function S(t){b.default.makeButtonNotHighlighted(t)}function h(){return y(k.playersCount)?void M():void d()}function y(t){return t===k.maxStreak}function M(){b.default.disableCircle(),b.default.playVictory()}Object.defineProperty(n,"__esModule",{value:!0});var w=t("./ui.js"),b=i(w),C=t("./game-tools"),T=i(C),B={},k={};n.default={init:u,start:r,reset:o,toggleStrictMode:a,onSimonButtonPress:m,onSimonButtonRelease:p}},{"./game-tools":1,"./ui.js":4}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var u=t("./game"),r=i(u),o=document.querySelector(".main-circle"),a=o.querySelector(".start"),c=o.querySelector(".reset"),l=o.querySelector(".strict"),s=o.querySelectorAll(".btn-row > .btn");r.default.init(o,s,a,c),a.addEventListener("click",r.default.start),c.addEventListener("click",r.default.reset),l.addEventListener("click",r.default.toggleStrictMode),Array.from(s).forEach(function(t){t.addEventListener("mousedown",r.default.onSimonButtonPress),t.addEventListener("mouseup",r.default.onSimonButtonRelease)})},{"./game":2}],4:[function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;w=t,b=e;for(var n=0;n<4;++n){var i=new Audio("sounds/simonSound"+(n+1)+".mp3");q.push(i)}B=new Audio("sounds/error.mp3"),k=new Audio("sounds/win.mp3")}function u(){w.mainCircle.classList.add("animate")}function r(t){t.classList.toggle("active")}function o(t){t.classList.add("active")}function a(t){t.classList.remove("active")}function c(t){w.count.innerHTML=t>=10?t:"0"+t}function l(t){v(t),window.setTimeout(function(){p(t)},b)}function s(){w.startButton.classList.add("active"),w.startButton.classList.remove("disabled"),A.isStartActive=!0}function d(){w.startButton.classList.add("disabled"),w.startButton.classList.remove("active"),A.isStartActive=!1}function f(){w.mainCircle.classList.add("touchable"),A.isMainCircleTouchable=!0}function m(){w.mainCircle.classList.remove("touchable"),A.isMainCircleTouchable=!1}function v(t){T=t,o(w.simonButtons[t-1]),S(t)}function p(t){T=null,a(w.simonButtons[t-1]),h(t)}function g(){a(w.diode),A.isStrictModeActive=!1,B.pause(),B.currentTime=0,k.pause(),k.currentTime=0,null!==T&&p(T),m(),s(),c(0)}function S(t){null!=C&&h(C,!0),C=t,q[t-1].play()}function h(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!e&&q[t-1].currentTime<b?window.setTimeout(function(){q[t-1].pause(),q[t-1].currentTime=0,C=null},1e3*(b-q[t-1].currentTime)):(q[t-1].pause(),q[t-1].currentTime=0,C=null)}function y(){B.play(),window.setTimeout(function(){B.pause(),B.currentTime=0},b)}function M(){k.play()}Object.defineProperty(n,"__esModule",{value:!0});var w={},b=0,C=null,T=null,B=null,k=null,A={isStartActive:!0,isMainCircleTouchable:!1,isStrictModeActive:!1},q=[];n.default={init:i,animateMainCircle:u,toggleStrictMode:function(){A.isStrictModeActive=!A.isStrictModeActive,r(w.diode)},highlightButton:l,renderCount:c,activateStartButton:s,deactivateStartButton:d,makeCircleTouchable:f,disableCircle:m,flags:A,makeButtonHighlighted:v,makeButtonNotHighlighted:p,reset:g,playError:y,playVictory:M}},{}],5:[function(t,e,n){"use strict";function i(){var t=[].slice.call(arguments);t.forEach(function(t){if("number"!=typeof t)throw new Error("Given arguments must be numbers!")})}function u(t){if(t<=0)throw new Error("Given length argument is not a positive number")}Object.defineProperty(n,"__esModule",{value:!0}),n.default={length:u,integerTypeOfArguments:i}},{}]},{},[3]);
//# sourceMappingURL=simon-min.js.map
