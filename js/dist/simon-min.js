!function e(t,n,i){function o(u,a){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(r)return r(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return o(n?n:e)},l,l.exports,e,t,n,i)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(u.default.integerTypeOfArguments(e,t,n),u.default.length(n),e>t){var i=[t,e];e=i[0],t=i[1]}for(var o=new Array,r=0;r<n;++r)o.push(Math.floor(Math.random()*(t-e+1))+e);return o}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./valid"),u=i(r);n.default={getSimonSequence:function(e){return o(1,4,e)}}},{"./valid":5}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,i){q.mainCircle=e,q.startButton=n,q.resetButton=i,q.simonButtons=t,q.diode=e.querySelector(".diode"),q.count=e.querySelector(".count"),w.stepDuration=1e3,w.breakDuration=200,w.strictMode=!1,w.isStartActive=!0,C.default.init(q,w.stepDuration),C.default.animateMainCircle()}function r(){C.default.flags.isStartActive&&(C.default.deactivateStartButton(),w.maxStreak=20,w.simonSequence=k.default.getSimonSequence(w.maxStreak),console.log("Simon Sequence is: "),console.log(w.simonSequence),w.currentStreak=0,d())}function u(){console.log("Reseted..."),w.simonSequence=[],w.currentStreak=0,C.default.reset()}function a(){w.strictMode=!w.strictMode,C.default.toggleStrictMode()}function c(){C.default.renderCount(++w.currentStreak),s(1)}function s(e){C.default.highlightButton(w.simonSequence[e-1]),w.currentStreak>e?window.setTimeout(function(){s(e+1)},w.stepDuration+w.breakDuration):window.setTimeout(function(){f()},w.stepDuration)}function l(){C.default.makeCircleTouchable()}function d(){C.default.disableCircle(),window.setTimeout(function(){c()},500)}function f(){l(),w.playersCount=0}function m(e){if(C.default.flags.isMainCircleTouchable){if(w.playersInput=e.target.id,console.log("input is: "+w.playersInput+" on index: "+w.playersCount+" expected is: "+w.simonSequence[w.playersCount]),w.playersInput!=w.simonSequence[w.playersCount])return void g();console.log("Making button highlighted..."),p(w.playersInput),w.playersCount++}}function g(){console.log("player failed..."),C.default.flags.isStrictModeActive||(w.playersCount=0,w.currentStreak--,d())}function v(){C.default.flags.isMainCircleTouchable&&!w.isPlayersFailure&&(console.log(w.playersInput+" button released"),S(w.playersInput),w.playersCount===w.currentStreak&&h())}function p(e){C.default.makeButtonHighlighted(e)}function S(e){C.default.makeButtonNotHighlighted(e)}function h(){return console.log("End of player's sequence"),y(w.playersCount)?void M():void d()}function y(e){return e===w.maxStreak}function M(){C.default.disableCircle(),console.log("player has won")}Object.defineProperty(n,"__esModule",{value:!0});var b=e("./ui.js"),C=i(b),B=e("./game-tools"),k=i(B),q={},w={};n.default={init:o,start:r,reset:u,toggleStrictMode:a,onSimonButtonPress:m,onSimonButtonRelease:v}},{"./game-tools":1,"./ui.js":4}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=e("./game"),r=i(o),u=document.querySelector(".main-circle"),a=u.querySelector(".start"),c=u.querySelector(".reset"),s=u.querySelector(".strict"),l=u.querySelectorAll(".btn-row > .btn");console.log("Starting application..."),r.default.init(u,l,a,c),a.addEventListener("click",r.default.start),c.addEventListener("click",r.default.reset),s.addEventListener("click",r.default.toggleStrictMode),Array.from(l).forEach(function(e){e.addEventListener("mousedown",r.default.onSimonButtonPress),e.addEventListener("mouseup",r.default.onSimonButtonRelease)})},{"./game":2}],4:[function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;S=e,h=t;for(var n=0;n<4;++n){var i=new Audio("sounds/simonSound"+(n+1)+".mp3");console.log("creating audio: "+("sounds/simonSound"+(n+1)+".mp3")),b.push(i)}}function o(){S.mainCircle.classList.add("animate")}function r(e){e.classList.toggle("active")}function u(e){e.classList.add("active")}function a(e){e.classList.remove("active")}function c(e){S.count.innerHTML=e>=10?e:"0"+e}function s(e){g(e),window.setTimeout(function(){v(e)},h)}function l(){S.startButton.classList.add("active"),S.startButton.classList.remove("disabled"),M.isStartActive=!0}function d(){S.startButton.classList.add("disabled"),S.startButton.classList.remove("active"),M.isStartActive=!1}function f(){S.mainCircle.classList.add("touchable"),M.isMainCircleTouchable=!0}function m(){S.mainCircle.classList.remove("touchable"),M.isMainCircleTouchable=!1}function g(e){y=e,u(S.simonButtons[e-1]),b[e-1].play()}function v(e){y=null,a(S.simonButtons[e-1]),b[e-1].pause(),b[e-1].currentTime=0}function p(){a(S.diode),M.isStrictModeActive=!1,l(),null!==y&&v(y),m(),c(0)}Object.defineProperty(n,"__esModule",{value:!0});var S={},h=0,y=null,M={isStartActive:!0,isMainCircleTouchable:!1,isStrictModeActive:!1},b=[];n.default={init:i,animateMainCircle:o,toggleStrictMode:function(){M.isStrictModeActive=!M.isStrictModeActive,r(S.diode)},highlightButton:s,renderCount:c,activateStartButton:l,deactivateStartButton:d,makeCircleTouchable:f,disableCircle:m,flags:M,makeButtonHighlighted:g,makeButtonNotHighlighted:v,reset:p}},{}],5:[function(e,t,n){"use strict";function i(){var e=[].slice.call(arguments);e.forEach(function(e){if("number"!=typeof e)throw new Error("Given arguments must be numbers!")})}function o(e){if(e<=0)throw new Error("Given length argument is not a positive number")}Object.defineProperty(n,"__esModule",{value:!0}),n.default={length:o,integerTypeOfArguments:i}},{}]},{},[3]);
//# sourceMappingURL=simon-min.js.map
